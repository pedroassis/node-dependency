<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Javascript on Node-Dependency</title>
    <link>http://localhost:1313/tags/javascript/</link>
    <description>Recent content in Javascript on Node-Dependency</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>pedro@pedroassis.com.br (Pedro Assis)</managingEditor>
    <webMaster>pedro@pedroassis.com.br (Pedro Assis)</webMaster>
    <lastBuildDate>Tue, 07 Jul 2015 20:20:09 -0300</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/javascript/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Getting Started</title>
      <link>http://localhost:1313/post/getting-started/</link>
      <pubDate>Tue, 07 Jul 2015 20:20:09 -0300</pubDate>
      <author>pedro@pedroassis.com.br (Pedro Assis)</author>
      <guid>http://localhost:1313/post/getting-started/</guid>
      <description>

&lt;h2 id=&#34;installing:b6885e1f85551f51a4707c402f8200a3&#34;&gt;Installing&lt;/h2&gt;

&lt;p&gt;I suppose you have a NodeJs project and you know what&amp;rsquo;s &lt;code&gt;npm&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;    npm install node-dependency --save
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;the-source-folder:b6885e1f85551f51a4707c402f8200a3&#34;&gt;The source folder&lt;/h5&gt;

&lt;p&gt;Your source files must be in your root folder inside another folder, the default name is &lt;code&gt;src&lt;/code&gt; but you can changed that. If you do change it you need to add it to your &lt;strong&gt;package.json&lt;/strong&gt;.&lt;/p&gt;

&lt;h6 id=&#34;package-json:b6885e1f85551f51a4707c402f8200a3&#34;&gt;package.json&lt;/h6&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;{
    ... /// npm stuff, like dependencies, name, version...
    &amp;quot;node-dependency&amp;quot; : {
        &amp;quot;source&amp;quot; : &amp;quot;newName&amp;quot; // defaults to &amp;quot;src&amp;quot;
    }
    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now you should create a &lt;strong&gt;index.js&lt;/strong&gt; file in your root folder, and &lt;code&gt;require&lt;/code&gt; node-dependency module.&lt;/p&gt;

&lt;h6 id=&#34;index-js:b6885e1f85551f51a4707c402f8200a3&#34;&gt;index.js&lt;/h6&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    
// You should require node-dependency
var statupMethod = require(&#39;node-dependency&#39;);

/* 
 *  The returned value is a function which take 1 parameters: rootFolder
 *  After that node-dependency will read your source folder and load all your classes
 *  and instantiate the class named ProjectBootstrap, this file can be anywhere inside
 *  your source folder
 */
statupMethod(__dirname);
&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;file-structure:b6885e1f85551f51a4707c402f8200a3&#34;&gt;File Structure:&lt;/h6&gt;

&lt;pre&gt;&lt;code&gt;root_folder/
|-- index.js
|-- package.json
|-- src/                            # Your Source Folder
|   |-- ProjectBootstrap.js         # Startup class
|   ...                             # Your other files
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now you add the Startup class: &lt;strong&gt;`ProjectBootsrap.js&lt;/strong&gt;
&lt;code&gt;ProjectBootsrap&lt;/code&gt; can be placed anywhere in your source folder. And you should start your app in there.&lt;/p&gt;

&lt;h6 id=&#34;projectbootsrap-js:b6885e1f85551f51a4707c402f8200a3&#34;&gt;ProjectBootsrap.js&lt;/h6&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function ProjectBootstrap (MyDependency, AnotherOne) {
    myDependency.start(); // You sould keep this file as simple as you can, don&#39;t abuse it

    anotherOne.configure(); // configure and start are just madeup names
}

module.exports = ProjectBootstrap;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Your &lt;code&gt;ProjectBootstrap&lt;/code&gt; depends on &lt;code&gt;MyDependency, AnotherOne&lt;/code&gt;. Now you should create then as well.&lt;/p&gt;

&lt;p&gt;They can be anywhere inside your source folder, for instance, inside another folders.&lt;/p&gt;

&lt;h6 id=&#34;mydependency-js:b6885e1f85551f51a4707c402f8200a3&#34;&gt;MyDependency.js&lt;/h6&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function MyDependency () {

    this.start = function(){
        // Do your stuff here
        console.log(&amp;quot;I have been started!&amp;quot;)
    };
}

module.exports = MyDependency;
&lt;/code&gt;&lt;/pre&gt;

&lt;h6 id=&#34;anotherone-js:b6885e1f85551f51a4707c402f8200a3&#34;&gt;AnotherOne.js&lt;/h6&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function AnotherOne () {

    this.configure = function(){
        // Do your stuff here
        console.log(&amp;quot;I have been configured!&amp;quot;)
    };
}

module.exports = AnotherOne;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;That&amp;rsquo;s it, you already have a app up and running.&lt;/p&gt;

&lt;p&gt;You probably want to use your dependencies modules from &lt;code&gt;npm&lt;/code&gt;. That&amp;rsquo;s ok, node-dependency inject them too.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s install &lt;code&gt;expressjs&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;npm install express --save
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;Attention: You must have your module dependencies written on your &lt;strong&gt;package.json&lt;/strong&gt;&amp;rsquo;s &lt;code&gt;dependencies&lt;/code&gt; field&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Let&amp;rsquo;s rewrite &lt;code&gt;MyDependency&lt;/code&gt; to use &lt;code&gt;express&lt;/code&gt;.&lt;/p&gt;

&lt;h6 id=&#34;mydependency-js-1:b6885e1f85551f51a4707c402f8200a3&#34;&gt;MyDependency.js&lt;/h6&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function MyDependency (express) { // You just need to do this

    var app = express();

    this.start = function(){

        app.get(&#39;/&#39;, function (req, res) {
            res.send(&#39;Hello World!&#39;);
        });

        var server = app.listen(3000, function () {
            var host = server.address().address;
            var port = server.address().port;

            console.log(&#39;Example app listening at http://%s:%s&#39;, host, port);
        });
    };
}

module.exports = MyDependency;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now you will have a HTTP Server when you run your app.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>What&#39;s node-dependency?</title>
      <link>http://localhost:1313/post/whats-that/</link>
      <pubDate>Tue, 07 Jul 2015 18:44:49 -0300</pubDate>
      <author>pedro@pedroassis.com.br (Pedro Assis)</author>
      <guid>http://localhost:1313/post/whats-that/</guid>
      <description>

&lt;p&gt;It&amp;rsquo;s a Dependency Injection Framework for NodeJS.&lt;br /&gt;
It discovers your files and declare them to be injected and to have it&amp;rsquo;s dependencies injected.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;No hard to write configuration files&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h5 id=&#34;dependency-injection-made-easy:bfeb15fc3ad40c5e48a5041c2632133e&#34;&gt;Dependency Injection made easy&lt;/h5&gt;

&lt;p&gt;I&amp;rsquo;ve heard that NodeJS is based in somethin&amp;rsquo; called &lt;code&gt;Module Pattern&lt;/code&gt;, where you expose a module, which can be a Function, a Object or whatever.&lt;/p&gt;

&lt;p&gt;Then you can &lt;code&gt;require&lt;/code&gt; then by name and use it as needed.&lt;/p&gt;

&lt;p&gt;If you are (hopefully) starting a new NodeJS project, I highly recommend you to think in what kind of structure and what patterns you are going to use and most of all: &lt;strong&gt;Stick with them&lt;/strong&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;node-dependency&lt;/strong&gt; helps you choose a well known pattern&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;If you choose to use node-dependency you&amp;rsquo;ll have to follow some guidelines, therefore having a uniform code.&lt;/p&gt;

&lt;p&gt;Benefits:&lt;br /&gt;
- Code easy to read and write&lt;br /&gt;
- Uniform structure&lt;br /&gt;
- Truly Object Oriented&lt;br /&gt;
- Easy to pick-up&lt;br /&gt;
- No strange patterns defined by the language community&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JS and Annotations</title>
      <link>http://localhost:1313/post/JS-Annotations/</link>
      <pubDate>Sat, 04 Jul 2015 21:55:18 -0300</pubDate>
      <author>pedro@pedroassis.com.br (Pedro Assis)</author>
      <guid>http://localhost:1313/post/JS-Annotations/</guid>
      <description>

&lt;p&gt;Since ECMAScript 5 specification it was introduced the &amp;lsquo;use strict&amp;rsquo; directive, which is used to declared that the code inside the scope of the &amp;lsquo;use strict&amp;rsquo; should use a subset of the JavaScript language.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;It means that the same code should run different of the same code without it, for instance, you can&amp;rsquo;t declare a global variable in the following way:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    someNumber = 123;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The code above will run in any browser, declaring &lt;code&gt;someNumber&lt;/code&gt; in the global scope because of the missing &lt;code&gt;var&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    &#39;use strict&#39;;
    someNumber = 123; // ReferenceError: someNumber is not defined
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The second snippet runs in strict mode and will throw a error on browsers ES5 compatible, because of using a variable that was not defined.&lt;/p&gt;

&lt;p&gt;And the same code will run without any problems in all browsers that do not support the ES5 especification.&lt;/p&gt;

&lt;p&gt;Recently ASM started using a annotation &lt;code&gt;use asm&lt;/code&gt; to define that a code should be run as a fast subset of JS (Pretty fast accually).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&#34;time-to-use-it-too:d7338891ff065b1ca5fd0fae23813d48&#34;&gt;Time to use it too!&lt;/h3&gt;

&lt;p&gt;So we already know that annotations exists in JS, they look like code, in fact they are a &lt;code&gt;Literal Expression&lt;/code&gt;, but they just get vaccued into the void, not meaning anything to normal JS code.&lt;/p&gt;

&lt;h4 id=&#34;how-can-we-use-it:d7338891ff065b1ca5fd0fae23813d48&#34;&gt;How can we use it?&lt;/h4&gt;

&lt;p&gt;Pretty good question, JS does not provide a simple way of using it.
I was going to suggest writing a parser to read the code and detect those annotations.&lt;br /&gt;
JS is such a powerful language that you can accually do it.&lt;/p&gt;

&lt;p&gt;But this would take a little bit of time, and reading annotations is not what we need right now, we need to use it.&lt;/p&gt;

&lt;p&gt;Then I&amp;rsquo;ve found there are a lot of JS parsers out there and I chose &lt;a href=&#34;http://esprima.org&#34;&gt;Esprima&lt;/a&gt; to the job.&lt;/p&gt;

&lt;p&gt;Esprima is pretty cool, it reads your JS code and returns a Node Tree with the parsed code.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s read the following function and see what we get.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;function Person(name){};
JSON.stringify(esprima.parse(&#39;function Person(name){}&#39;), null, 4) 
// Or JSON.stringify(esprima.parse(Person.toString()), null, 4) 
{
    &amp;quot;type&amp;quot;: &amp;quot;Program&amp;quot;,
    &amp;quot;body&amp;quot;: [
        {
            &amp;quot;type&amp;quot;: &amp;quot;FunctionDeclaration&amp;quot;,
            &amp;quot;id&amp;quot;: {
                &amp;quot;type&amp;quot;: &amp;quot;Identifier&amp;quot;,
                &amp;quot;name&amp;quot;: &amp;quot;Person&amp;quot;
            },
            &amp;quot;params&amp;quot;: [
                {
                    &amp;quot;type&amp;quot;: &amp;quot;Identifier&amp;quot;,
                    &amp;quot;name&amp;quot;: &amp;quot;name&amp;quot;
                }
            ],
            &amp;quot;defaults&amp;quot;: [],
            &amp;quot;body&amp;quot;: {
                &amp;quot;type&amp;quot;: &amp;quot;BlockStatement&amp;quot;,
                &amp;quot;body&amp;quot;: []
            },
            &amp;quot;generator&amp;quot;: false,
            &amp;quot;expression&amp;quot;: false
        }
    ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Esprima read a bunch of data out of the function.&lt;/p&gt;

&lt;p&gt;It has identified that this is a &lt;code&gt;FunctionDeclaration&lt;/code&gt;, with name &lt;code&gt;Person&lt;/code&gt; and a parameter called &lt;code&gt;name&lt;/code&gt;.&lt;br /&gt;
And also the &lt;code&gt;body&lt;/code&gt; of the function, which is empty.&lt;/p&gt;

&lt;p&gt;That&amp;rsquo;s cool! How about this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;
var code = &amp;quot;&#39;use strict&#39;&amp;quot; +
           &amp;quot;\n&amp;quot; +
           &amp;quot;function Person(name){}&amp;quot;;

JSON.stringify(esprima.parse(code), null, 4)
{
    &amp;quot;type&amp;quot;: &amp;quot;Program&amp;quot;,
    &amp;quot;body&amp;quot;: [
        {
            &amp;quot;type&amp;quot;: &amp;quot;ExpressionStatement&amp;quot;,
            &amp;quot;expression&amp;quot;: {
                &amp;quot;type&amp;quot;: &amp;quot;Literal&amp;quot;,
                &amp;quot;value&amp;quot;: &amp;quot;use strict&amp;quot;,
                &amp;quot;raw&amp;quot;: &amp;quot;\&amp;quot;use strict\&amp;quot;&amp;quot;
            }
        },
        {
            &amp;quot;type&amp;quot;: &amp;quot;FunctionDeclaration&amp;quot;,
            &amp;quot;id&amp;quot;: {
                &amp;quot;type&amp;quot;: &amp;quot;Identifier&amp;quot;,
                &amp;quot;name&amp;quot;: &amp;quot;Person&amp;quot;
            }
            ...
        }
    ]
}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can read the annotations from the source code, we can see in the JSON that we have a &lt;code&gt;use strict&lt;/code&gt; before our function.&lt;/p&gt;

&lt;p&gt;This is how we extract annotations from JS files on &lt;a href=&#34;https://github.com/pedroassis/js-annotation-reader&#34;&gt;js-annotation-reader&lt;/a&gt;, which is the module used by &lt;a href=&#34;https://github.com/pedroassis/node-dependency&#34;&gt;node-dependency&lt;/a&gt; to enable annotation support.&lt;/p&gt;

&lt;p&gt;Using this technique I wrote js-annotation-reader, and using it you can read a file like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;&#39;package com.pedro&#39;

&#39;@RequestHandler(&amp;quot;/user&amp;quot;)&#39;
function UserHandler () {
    
    &#39;@Get(&amp;quot;/all&amp;quot;)&#39;
    this.fetchAll = function() {
        return [{
            name : &#39;USER!&#39;
        }, {
            anotherOne : 1234567
        }];
    };
    
    &#39;@Get(&amp;quot;/id/:id&amp;quot;)&#39;
    this.getByID = function($id) {
        return {
            userID : $id,
            name : &amp;quot;aSDFGHJKL&amp;quot;
        };
    };

}
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;and-we-get-this-result:d7338891ff065b1ca5fd0fae23813d48&#34;&gt;And we get this result:&lt;/h5&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;{
    &amp;quot;name&amp;quot;: &amp;quot;UserHandler&amp;quot;,
    &amp;quot;packaged&amp;quot;: &amp;quot;com.pedro&amp;quot;,
    &amp;quot;parameters&amp;quot;: [],
    &amp;quot;annotations&amp;quot;: [
        {
            &amp;quot;name&amp;quot;: &amp;quot;RequestHandler&amp;quot;,
            &amp;quot;value&amp;quot;: &amp;quot;/user&amp;quot;,
            &amp;quot;targets&amp;quot;: &amp;quot;UserHandler&amp;quot;
        }
    ],
    &amp;quot;imports&amp;quot;: [],
    &amp;quot;methods&amp;quot;: [
        {
            &amp;quot;annotations&amp;quot;: [
                {
                    &amp;quot;name&amp;quot;: &amp;quot;Get&amp;quot;,
                    &amp;quot;value&amp;quot;: &amp;quot;/all&amp;quot;,
                    &amp;quot;targets&amp;quot;: &amp;quot;fetchAll&amp;quot;
                }
            ],
            &amp;quot;parameters&amp;quot;: [],
            &amp;quot;name&amp;quot;: &amp;quot;fetchAll&amp;quot;
        },
        {
            &amp;quot;annotations&amp;quot;: [
                {
                    &amp;quot;name&amp;quot;: &amp;quot;Get&amp;quot;,
                    &amp;quot;value&amp;quot;: &amp;quot;/id/:id&amp;quot;,
                    &amp;quot;targets&amp;quot;: &amp;quot;getByID&amp;quot;
                }
            ],
            &amp;quot;parameters&amp;quot;: [
                &amp;quot;$id&amp;quot;
            ],
            &amp;quot;name&amp;quot;: &amp;quot;getByID&amp;quot;
        }
    ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you are wondering in what this can be used, just check this out &lt;a href=&#34;https://github.com/pedroassis/nd-express-plugin&#34;&gt;Express Plugin&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;References:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode#Making_eval_and_arguments_simpler&#34;&gt;Mozilla&amp;rsquo;s MDN&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://www.ecma-international.org/ecma-262/6.0/index.html#sec-directive-prologues-and-the-use-strict-directive&#34;&gt;ECMAScript 5&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://asmjs.org/spec/latest/&#34;&gt;ASM.js&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Classes in JavaScript</title>
      <link>http://localhost:1313/post/Classes/</link>
      <pubDate>Sat, 04 Jul 2015 12:14:38 -0300</pubDate>
      <author>pedro@pedroassis.com.br (Pedro Assis)</author>
      <guid>http://localhost:1313/post/Classes/</guid>
      <description>

&lt;h4 id=&#34;i-see-a-lot-of-design-patterns-on-nodejs-most-of-then-i-don-t-like:20d1ea64521c4978f84dc5ec94fb9248&#34;&gt;I see a lot of design patterns on NodeJS, most of then I don&amp;rsquo;t like.&lt;/h4&gt;

&lt;p&gt;These NodeJS design patterns help us build fast applications using JavaScript, but they might lead to crappy code.&lt;/p&gt;

&lt;p&gt;Node-Dependency apps must follow some JS design patterns that I think are the easiest to learn for a programmer used to OOP.&lt;/p&gt;

&lt;p&gt;For instance:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    // You can define Class-like functions with JS
    function MyClass(){}

    var myInstance = new MyClass();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is pretty straight forward and anyone used to OOP will understand that.&lt;/p&gt;

&lt;p&gt;But is not a class as you&amp;rsquo;ll get with Java or C# or whatever.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    
    function Person(name){ 
        // The &#39;name&#39; is receive in the constructor and is a private variable
        // This is the constructor of your class
        // You can define private and public properties

        var lastName = &#39; is awesome!&#39;;  // Private variable
        this.lastName = name + lastName; // this.lastName is a public variable

        this.getFullName = function(){
            return name + &amp;quot; kind of&amp;quot; + lastName;
        };
    }

    var someone = new Person(&amp;quot;Mary&amp;quot;);

    console.log(someone.lastName); // &amp;quot;Mary is awesome!&amp;quot;
    console.log(someone.getFullName()); // &amp;quot;Mary kind of is awesome!&amp;quot;
    console.log(someone.name); // undefined
    console.log(someone.lastName); // &amp;quot; is awesome!&amp;quot;

    someone.name = &amp;quot;John&amp;quot;;

    console.log(someone.getFullName()); // &amp;quot;Mary kind of is awesome!&amp;quot;

    // You can see that &#39;name&#39; is a private variable,
    // and you cant access it outside the Class scope.

    // When changed &#39;name&#39; to &amp;quot;John&amp;quot;, you haven&#39;t changed anything. 
    // You accually created a new property in the same level as &#39;this.lastName&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;blockquote&gt;
&lt;p&gt;Everything defined on &amp;lsquo;this&amp;rsquo; will be public, declarations using &amp;lsquo;var&amp;rsquo; will be private&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Looking at Person class you might say that it has a dependency upon name.&lt;/p&gt;

&lt;p&gt;This is JS, so you are not required to provide the name upon object creation.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    var someone = new Person();

    console.log(someone.getFullName()); // &amp;quot;undefined kind of is awesome!&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can have Classes depending upon other classes:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    function PersonService(){

        var person = new Person();

        this.getName = function(){
            return person.getFullName();
        }

        this.getPerson = function(){
            return person;
        }

    }

    var personService = new PersonService();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In this case &lt;code&gt;PersonService&lt;/code&gt; breaks the &lt;a href=&#34;https://en.wikipedia.org/wiki/Dependency_inversion_principle&#34;&gt;Dependency inversion principle&lt;/a&gt; because it should depend upon the abstraction of &lt;code&gt;Person&lt;/code&gt;, not the implemented class.&lt;br /&gt;
You might say &lt;code&gt;PersonService&lt;/code&gt; is coupled with the implementation of &lt;code&gt;Person&lt;/code&gt;, but thats not true on JS.&lt;br /&gt;
JS is a dynamic language, therefore is hard to have anything coupled to anything. Unless &lt;code&gt;Person&lt;/code&gt; were defined inside &lt;code&gt;PersonService&lt;/code&gt;, but in this case at most is coupled to the signature &lt;code&gt;Person&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Some OOP principles should be applied differently on JS, for instance:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-js&#34;&gt;    new PersonService().getPerson().constructor.name; // &amp;quot;Person&amp;quot;

    Person = function Employee(){}; // Changed what Person means

    new PersonService().getPerson().constructor.name; // &amp;quot;Employee&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This approach works, but is too hacky.&lt;/p&gt;

&lt;p&gt;If &lt;code&gt;PersonService&lt;/code&gt; received the &lt;code&gt;Person&lt;/code&gt; instance in the constructor we could provide any type of object to it.&lt;/p&gt;

&lt;p&gt;Node-Dependency solves this kind of problem, you define your dependencies in the constructor and the framework will handle the instantiation process.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>