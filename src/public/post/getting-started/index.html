<html lang="en">
<head>

  
  <meta charset="utf-8">
  <title>Getting Started</title>
  <meta name="description" content="Getting Started">
  <meta name="author" content="Pedro Assis">

  
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link href="//fonts.googleapis.com/css?family=Raleway:400,300,600" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="http://localhost:1313/css/fonts.css">
  
  
  <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
  

    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/grids-responsive-min.css">

  <link rel="stylesheet" href="http://localhost:1313/css/custom.css">

  
  
  <link rel="stylesheet" href="http://localhost:1313/highlight/styles/monokai_sublime.css">
  
  <script src="http://localhost:1313/highlight/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

</head>
<body>


<div class="header pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
    <div class="pure-u-11-12 pure-u-md-5-8">
        <div class="desktop pure-menu pure-menu-horizontal nav-menu">
            
            <a href="/" class="site-title pure-menu-heading">Node-Dependency</a>
            <ul class="pure-menu-list">
                
                <li class="pure-menu-item">
                    <a href="http://localhost:1313/about/" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
        <div class="mobile pure-menu nav-menu">
            <a href="/" class="pure-menu-heading" id="toggle-home">Node-Dependency</a>
            <a href="#" id="toggle-btn">&#9776;</a>
            <ul class="pure-menu-list" id="toggle-content" style="display:none;">
                
                
                <li class="pure-menu-item">
                    <a href="http://localhost:1313/about" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="pure-u-1-24 pure-u-md-1-6"></div>
</div>


<div class="pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
	<div class="pure-u-11-12 pure-u-md-5-8">
        <div class="post">

            <div class="post-title">
                <p class="footnote">
                    <time class="">2015-07-07</time>
		            
                    
                    |
                    
                    
                    tags:<a href="http://localhost:1313/tags/javascript">JavaScript</a> <a href="http://localhost:1313/tags/di">DI</a> <a href="http://localhost:1313/tags/node-dependency">node-dependency</a> <a href="http://localhost:1313/tags/nodejs">NodeJS</a> <a href="http://localhost:1313/tags/patterns">Patterns</a> 
                    

                    

                    
                </p>
                <h1>Getting Started</h1>
            </div>

            <aside class="share-container">
    <p class="share-inner">
        <span class="share-title">Share: </span>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/facebook.png" class="share-img">
        </a>
        <a href="https://twitter.com/home?status=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/twitter.png" class="share-img">
        </a>
        <a href="https://plus.google.com/share?url=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/g+.png" class="share-img">
        </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/linkedin.png" class="share-img">
        </a>
    </p>
</aside>

            <div class="post-content">
                

<h2 id="installing:b6885e1f85551f51a4707c402f8200a3">Installing</h2>

<p>I suppose you have a NodeJs project and you know what&rsquo;s <code>npm</code></p>

<pre><code class="language-bash">    npm install node-dependency --save
</code></pre>

<h5 id="the-source-folder:b6885e1f85551f51a4707c402f8200a3">The source folder</h5>

<p>Your source files must be in your root folder inside another folder, the default name is <code>src</code> but you can changed that. If you do change it you need to add it to your <strong>package.json</strong>.</p>

<h6 id="package-json:b6885e1f85551f51a4707c402f8200a3">package.json</h6>

<pre><code class="language-js">{
    ... /// npm stuff, like dependencies, name, version...
    &quot;node-dependency&quot; : {
        &quot;source&quot; : &quot;newName&quot; // defaults to &quot;src&quot;
    }
    ...
}
</code></pre>

<p>Now you should create a <strong>index.js</strong> file in your root folder, and <code>require</code> node-dependency module.</p>

<h6 id="index-js:b6885e1f85551f51a4707c402f8200a3">index.js</h6>

<pre><code class="language-js">    
// You should require node-dependency
var statupMethod = require('node-dependency');

/* 
 *  The returned value is a function which take 1 parameters: rootFolder
 *  After that node-dependency will read your source folder and load all your classes
 *  and instantiate the class named ProjectBootstrap, this file can be anywhere inside
 *  your source folder
 */
statupMethod(__dirname);
</code></pre>

<h6 id="file-structure:b6885e1f85551f51a4707c402f8200a3">File Structure:</h6>

<pre><code>root_folder/
|-- index.js
|-- package.json
|-- src/                            # Your Source Folder
|   |-- ProjectBootstrap.js         # Startup class
|   ...                             # Your other files
</code></pre>

<p>Now you add the Startup class: <strong>`ProjectBootsrap.js</strong>
<code>ProjectBootsrap</code> can be placed anywhere in your source folder. And you should start your app in there.</p>

<h6 id="projectbootsrap-js:b6885e1f85551f51a4707c402f8200a3">ProjectBootsrap.js</h6>

<pre><code class="language-js">function ProjectBootstrap (MyDependency, AnotherOne) {
    myDependency.start(); // You sould keep this file as simple as you can, don't abuse it

    anotherOne.configure(); // configure and start are just madeup names
}

module.exports = ProjectBootstrap;
</code></pre>

<p>Your <code>ProjectBootstrap</code> depends on <code>MyDependency, AnotherOne</code>. Now you should create then as well.</p>

<p>They can be anywhere inside your source folder, for instance, inside another folders.</p>

<h6 id="mydependency-js:b6885e1f85551f51a4707c402f8200a3">MyDependency.js</h6>

<pre><code class="language-js">function MyDependency () {

    this.start = function(){
        // Do your stuff here
        console.log(&quot;I have been started!&quot;)
    };
}

module.exports = MyDependency;
</code></pre>

<h6 id="anotherone-js:b6885e1f85551f51a4707c402f8200a3">AnotherOne.js</h6>

<pre><code class="language-js">function AnotherOne () {

    this.configure = function(){
        // Do your stuff here
        console.log(&quot;I have been configured!&quot;)
    };
}

module.exports = AnotherOne;
</code></pre>

<p>That&rsquo;s it, you already have a app up and running.</p>

<p>You probably want to use your dependencies modules from <code>npm</code>. That&rsquo;s ok, node-dependency inject them too.</p>

<p>Let&rsquo;s install <code>expressjs</code></p>

<pre><code class="language-bash">npm install express --save
</code></pre>

<blockquote>
<p>Attention: You must have your module dependencies written on your <strong>package.json</strong>&rsquo;s <code>dependencies</code> field</p>
</blockquote>

<p>Let&rsquo;s rewrite <code>MyDependency</code> to use <code>express</code>.</p>

<h6 id="mydependency-js-1:b6885e1f85551f51a4707c402f8200a3">MyDependency.js</h6>

<pre><code class="language-js">function MyDependency (express) { // You just need to do this

    var app = express();

    this.start = function(){

        app.get('/', function (req, res) {
            res.send('Hello World!');
        });

        var server = app.listen(3000, function () {
            var host = server.address().address;
            var port = server.address().port;

            console.log('Example app listening at http://%s:%s', host, port);
        });
    };
}

module.exports = MyDependency;
</code></pre>

<p>Now you will have a HTTP Server when you run your app.</p>

            </div>
            
            <aside class="share-container">
    <p class="share-inner">
        <span class="share-title">Share: </span>
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/facebook.png" class="share-img">
        </a>
        <a href="https://twitter.com/home?status=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/twitter.png" class="share-img">
        </a>
        <a href="https://plus.google.com/share?url=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/g+.png" class="share-img">
        </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2flocalhost%3a1313%2fpost%2fgetting-started%2f">
            <img src="/icons/linkedin.png" class="share-img">
        </a>
    </p>
</aside>

            <div style="margin-bottom: 43px;">
                <div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'nodedependency';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
	</div>
    <div class="pure-u-1-24 pure-u-md-1-6"></div>
</div>

<div class="footer pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
    <div class="pure-u-11-12 pure-u-md-5-8">
        <div class="pure-menu pure-menu-horizontal footer-content">
            <ul>
                <li class="pure-menu-heading" id="foot-name">Pedro Assis:</li>

                
                <li class="pure-menu-item">
                    <a href="mailto:pedro@pedroassis.com.br" class="pure-menu-link">Email</a>
                </li>
                

                
                <li class="pure-menu-item">
                    <a href="https://github.com/pedroassis/node-dependency" class="pure-menu-link">GitHub</a>
                </li>
                

                
                <li class="pure-menu-item">
                    <a href="https://www.linkedin.com/in/https://br.linkedin.com/in/pedroassisbh" class="pure-menu-link">LinkedIn</a>
                </li>
                

                
                <li class="pure-menu-item">
                    <a href="https://www.facebook.com/https://www.facebook.com/profile.php?id=100005981446817" class="pure-menu-link">Facebook</a>
                </li>
                

                

            </ul>
            <a href="#" class="pure-menu-heading pull-right" id="gototop-btn">↑↑</a>
        </div>
	  </div>
      <div class="pure-u-1-24 pure-u-md-1-6"></div>
</div>


<script src="http://localhost:1313/js/aes.js" type="text/javascript"></script>
<script src="http://localhost:1313/js/jquery.min.js" type="text/javascript"></script>
<script src="http://localhost:1313/js/jquery.timeago.js" type="text/javascript"></script>
<script type="text/javascript">
  $(function(){
    $("time.timeago").timeago();
  })
  $("#toggle-btn").click(function(){
    $("#toggle-content").toggle();
    if($(this).html() === "☰") {
        $(this).html("X")
    } else {
        $(this).html("☰")
    }
  });
  $(window).resize(function(){
    if(window.innerWidth > 768) {
      $(".desktop").removeAttr("style");
    }
  });
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  var upYourSpammerID = 'U2FsdGVkX1\/9RsFb\x2blMIQra9k1D0jGZXb46rJrc\/Z60=';
  var upYourSpammerKey = '4d657373616765';

  var ownedYou = CryptoJS.AES.decrypt(upYourSpammerID, upYourSpammerKey).toString(CryptoJS.enc.Utf8);

  ga('create', ownedYou, 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>

